(function(t){function e(e){for(var i,s,o=e[0],l=e[1],d=e[2],c=0,m=[];c<o.length;c++)s=o[c],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&m.push(r[s][0]),r[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,d||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],i=!0,o=1;o<a.length;o++){var l=a[o];0!==r[l]&&(i=!1)}i&&(n.splice(e--,1),t=s(s.s=a[0]))}return t}var i={},r={app:0},n=[];function s(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=i,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(a,i,function(e){return t[e]}.bind(null,i));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/deviceManageSystem/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var d=0;d<o.length;d++)e(o[d]);var u=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},"041d":function(t,e,a){},"08ed":function(t,e,a){},"0ab0":function(t,e,a){"use strict";a("c432")},"113c":function(t,e,a){t.exports=a.p+"img/default.06db32d6.png"},"1c1a":function(t,e,a){},"1e46":function(t,e,a){"use strict";a("86f9")},"20e1":function(t,e,a){},"21d1":function(t,e,a){},"2a24":function(t,e,a){"use strict";a("1c1a")},"2ecf":function(t,e,a){"use strict";a("041d")},"310a":function(t,e,a){"use strict";a("21d1")},"4ea2":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("9e1f"),a("450d");var i=a("6ed5"),r=a.n(i),n=(a("dcba"),a("9e16")),s=a.n(n),o=(a("784f"),a("7532")),l=a.n(o),d=(a("cbb5"),a("8bbc")),u=a.n(d),c=(a("425f"),a("4105")),m=a.n(c),f=(a("1f1a"),a("4e4b")),p=a.n(f),h=(a("aaa5"),a("a578")),b=a.n(h),v=(a("adec"),a("3d2d")),g=a.n(v),w=(a("b8e0"),a("a4c4")),x=a.n(w),y=(a("a7cc"),a("df33")),D=a.n(y),$=(a("5466"),a("ecdf")),k=a.n($),S=(a("38a0"),a("ad41")),_=a.n(S),L=(a("10cb"),a("f3ad")),C=a.n(L),W=(a("1951"),a("eedf")),R=a.n(W),N=(a("be4f"),a("896a")),V=a.n(N),j=(a("e2f3"),a("06f9")),I=a.n(j),F=(a("672e"),a("101e")),P=a.n(F),A=(a("5e32"),a("6721")),M=a.n(A),T=(a("0c67"),a("299c")),O=a.n(T),G=(a("9c49"),a("6640")),z=a.n(G),E=(a("d2ac"),a("95b0")),U=a.n(E),H=(a("cb70"),a("b370")),B=a.n(H),J=(a("b84d"),a("c216")),Y=a.n(J),q=(a("8f24"),a("76b9")),K=a.n(q),Q=(a("e612"),a("dd87")),X=a.n(Q),Z=(a("075a"),a("72aa")),tt=a.n(Z),et=(a("4ca3"),a("443e")),at=a.n(et),it=(a("06f1"),a("6ac9")),rt=a.n(it),nt=(a("a335"),a("c0bb")),st=a.n(nt),ot=(a("eca7"),a("3787")),lt=a.n(ot),dt=(a("560b"),a("dcdc")),ut=a.n(dt),ct=(a("de31"),a("c69e")),mt=a.n(ct),ft=(a("a769"),a("5cc3")),pt=a.n(ft),ht=(a("bd49"),a("18ff")),bt=a.n(ht),vt=(a("960d"),a("defb")),gt=a.n(vt),wt=(a("a673"),a("7b31")),xt=a.n(wt),yt=(a("34db"),a("3803")),Dt=a.n(yt),$t=(a("8bd8"),a("4cb2")),kt=a.n($t),St=(a("ce18"),a("f58e")),_t=a.n(St),Lt=(a("6611"),a("e772")),Ct=a.n(Lt),Wt=(a("f4f9"),a("c2cc")),Rt=a.n(Wt),Nt=(a("7a0f"),a("0f6c")),Vt=a.n(Nt),jt=(a("f225"),a("89a9")),It=a.n(jt),Ft=(a("826b"),a("c263")),Pt=a.n(Ft),At=(a("fe07"),a("6ac5")),Mt=a.n(At),Tt=(a("b5d8"),a("f494")),Ot=a.n(Tt),Gt=(a("b0ee"),a("d180")),zt=a.n(Gt),Et=(a("e960"),a("b35b")),Ut=a.n(Et),Ht=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("2b0e")),Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-view")},Jt=[],Yt={name:"App"},qt=Yt,Kt=(a("034f"),a("2877")),Qt=Object(Kt["a"])(qt,Bt,Jt,!1,null,null,null),Xt=Qt.exports,Zt=(a("b0c0"),a("8c4f")),te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("svg",{attrs:{viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid slice"}},[a("defs",[a("radialGradient",{attrs:{id:"Gradient1",cx:"50%",cy:"50%",fx:"50%",fy:"50%",r:".5"}},[a("animate",{attrs:{attributeName:"fx",dur:"34s",values:"0%;10%;0%",repeatCount:"indefinite"}}),a("stop",{attrs:{offset:"0%","stop-color":"rgba(255, 0, 255, 1)"}}),a("stop",{attrs:{offset:"100%","stop-color":"rgba(255, 0, 255, 0)"}})],1),a("radialGradient",{attrs:{id:"Gradient2",cx:"50%",cy:"50%",fx:"10%",fy:"50%",r:".5"}},[a("animate",{attrs:{attributeName:"fx",dur:"23.5s",values:"0%;50%;0%",repeatCount:"indefinite"}}),a("stop",{attrs:{offset:"0%","stop-color":"rgba(255, 255, 0, 1)"}}),a("stop",{attrs:{offset:"100%","stop-color":"rgba(255, 255, 0, 0)"}})],1),a("radialGradient",{attrs:{id:"Gradient3",cx:"50%",cy:"50%",fx:"50%",fy:"50%",r:".5"}},[a("animate",{attrs:{attributeName:"fx",dur:"23.5s",values:"0%;10%;0%",repeatCount:"indefinite"}}),a("stop",{attrs:{offset:"0%","stop-color":"rgba(0, 255, 255, 1)"}}),a("stop",{attrs:{offset:"100%","stop-color":"rgba(0, 255, 255, 0)"}})],1)],1),a("rect",{attrs:{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#Gradient1)"}},[a("animate",{attrs:{attributeName:"x",dur:"20s",values:"0%;25%;0%",repeatCount:"indefinite"}}),a("animate",{attrs:{attributeName:"y",dur:"21s",values:"0%;25%;0%",repeatCount:"indefinite"}}),a("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"0 50 50",to:"360 50 50",dur:"17s",repeatCount:"indefinite"}})],1),a("rect",{attrs:{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#Gradient2)"}},[a("animate",{attrs:{attributeName:"x",dur:"23s",values:"0%;-25%;0%",repeatCount:"indefinite"}}),a("animate",{attrs:{attributeName:"y",dur:"24s",values:"0%;-25%;0%",repeatCount:"indefinite"}}),a("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"0 50 50",to:"360 50 50",dur:"18s",repeatCount:"indefinite"}})],1),a("rect",{attrs:{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#Gradient3)"}},[a("animate",{attrs:{attributeName:"x",dur:"25s",values:"0%;-25%;0%",repeatCount:"indefinite"}}),a("animate",{attrs:{attributeName:"y",dur:"26s",values:"0%;25%;0%",repeatCount:"indefinite"}}),a("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"360 50 50",to:"0 50 50",dur:"19s",repeatCount:"indefinite"}})],1)]),a("div",{staticClass:"login-Container"},[a("el-form",{attrs:{"label-width":"80px"}},[a("h2",[t._v("设备管理系统")]),a("el-input",{attrs:{type:"text",placeholder:"用户名"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("el-input",{attrs:{type:"password",placeholder:"密码"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary"},on:{click:function(e){return t.submit()}}},[t._v("登录")]),a("el-button",{on:{click:function(e){return t.register()}}},[t._v("注册")])],1)],1)])},ee=[],ae=(a("ac1f"),a("5319"),a("bc3a")),ie=a.n(ae),re=a("4328"),ne=a.n(re),se="";ie.a.defaults.timeout=5e3;var oe=function(t,e){return ie()({method:"post",url:"".concat(se).concat(t),data:e},{timeout:5e3})},le=function(t,e){return ie()({method:"post",url:"".concat(se).concat(t),data:ne.a.stringify(e)},{timeout:5e3})},de=a("e1bd"),ue={name:"Login",data:function(){return{name:"",password:"",fullscreenLoading:!1}},methods:{submit:function(){var t=this;this.fullscreenLoading=!0,le("/server/login",{username:this.name,password:this.password}).then((function(e){if(200===e.data.status){t.fullscreenLoading=!1;var a=e.data.obj;t.$store.commit("userStore/login",{id:a.uid,username:a.username,admin:a.admin}),t.$router.replace({path:"/Home"})}else 500===e.data.status&&(t.fullscreenLoading=!1,t.$alert("用户名或密码错误"),t.password="")})).catch((function(e){t.fullscreenLoading=!1,console.log(e),t.$alert("登录失败，请检查网络连接")}))},register:function(){this.$router.replace({path:"/Register"})}},mounted:function(){console.log(Object(de["a"])(8).toUpperCase())}},ce=ue,me=(a("afda"),Object(Kt["a"])(ce,te,ee,!1,null,"1e427ea4",null)),fe=me.exports,pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{height:"100%"}},[a("el-container",[a("el-header",[a("button",{staticClass:"title",on:{click:function(e){return t.backToHome()}}},[t._v("设备管理系统")]),a("div",[a("el-button",{staticStyle:{"margin-right":"8px",color:"white"},attrs:{icon:"el-icon-user",type:"text",size:"normal"}}),a("el-dropdown",{on:{command:t.handleCommand}},[a("span",{staticClass:"el-dropdown-link"},[t._v(" "+t._s(t.username)+" ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"userinfo"}},[t._v("修改用户名")]),a("el-dropdown-item",{attrs:{command:"changePsw"}},[t._v("修改密码")]),a("el-dropdown-item",{attrs:{command:"logout",divided:""}},[t._v("注销登录")])],1)],1)],1)]),a("el-container",[a("el-aside",{attrs:{width:"200px"}},[a("el-col",[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"-1"}},[a("el-menu-item",{attrs:{index:"1"},on:{click:function(e){return t.switchRoute("Purchase")}}},[a("i",{staticClass:"el-icon-menu"}),a("span",[t._v("购买管理")])]),a("el-menu-item",{attrs:{index:"2"},on:{click:function(e){return t.switchRoute("Lease")}}},[a("i",{staticClass:"el-icon-s-promotion"}),a("span",[t._v("转借管理")])]),a("el-menu-item",{attrs:{index:"3"},on:{click:function(e){return t.switchRoute("Maintain")}}},[a("i",{staticClass:"el-icon-s-order"}),a("span",[t._v("维修管理")])]),a("el-menu-item",{attrs:{index:"4"},on:{click:function(e){return t.switchRoute("Inventory")}}},[a("i",{staticClass:"el-icon-s-home"}),a("span",[t._v("库存管理")])]),a("el-menu-item",{attrs:{index:"5"},on:{click:function(e){return t.switchRoute("Scrap")}}},[a("i",{staticClass:"el-icon-s-release"}),a("span",[t._v("报废管理")])]),a("el-menu-item",{attrs:{index:"6"},on:{click:function(e){return t.switchRoute("UserManage")}}},[a("i",{staticClass:"el-icon-user-solid"}),a("span",[t._v("用户管理")])])],1)],1)],1),a("el-main",[a("router-view")],1)],1)],1),a("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[t._v(" 请输入新密码"),a("br"),a("el-input",{attrs:{type:"password"},model:{value:t.newPsw,callback:function(e){t.newPsw=e},expression:"newPsw"}}),t._v(" 请确认新密码"),a("br"),a("el-input",{attrs:{type:"password"},model:{value:t.reNewPsw,callback:function(e){t.reNewPsw=e},expression:"reNewPsw"}}),a("br"),a("span",{directives:[{name:"show",rawName:"v-show",value:!(t.newPsw===t.reNewPsw),expression:"!(newPsw === reNewPsw)"}],staticStyle:{color:"red"}},[t._v("两次密码输入不一致")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary",disabled:!(t.newPsw===t.reNewPsw)},on:{click:function(e){return t.changePsw()}}},[t._v("确 定")])],1)],1)],1)},he=[],be={name:"Home",data:function(){return{dialogVisible:!1,newPsw:"",reNewPsw:""}},computed:{username:function(){return window.sessionStorage.getItem("username")},admin:function(){return!!window.sessionStorage.getItem("admin")}},methods:{switchRoute:function(t){this.$route.name!==t&&this.$router.push({name:t})},backToHome:function(){"Home"!==this.$route.name&&this.$router.push({path:"/Home"})},handleCommand:function(t){var e=this;"logout"===t?(this.$store.commit("userStore/logout"),this.$router.replace({path:"/"})):"userinfo"===t?this.$prompt("请输入新用户名","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(t){var a=t.value,i={};i.uid=window.sessionStorage.getItem("userid"),i.username=a,i.admin=window.sessionStorage.getItem("admin"),console.log(i),oe("/server/update",i).then((function(t){200===t.data.status&&(window.sessionStorage.setItem("username",a),e.$alert("修改成功","",{callback:function(){location.reload()}}))})).catch((function(){e.$alert("修改失败")}))})):"changePsw"===t&&(this.dialogVisible=!0)},changePsw:function(){var t=this;le("/server/updateUserPwd",{username:this.username,password:this.newPsw}).then((function(e){200===e.data.status?(t.$store.commit("userStore/logout"),t.$alert("密码修改成功，请重新登录","",{callback:function(){t.$router.replace({path:"/"})}})):t.$alert("密码修改失败")})).catch((function(e){console.log(e),t.$alert("服务器响应超时，请检查网络连接")}))}}},ve=be,ge=(a("8b71"),Object(Kt["a"])(ve,pe,he,!1,null,null,null)),we=ge.exports,xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("svg",{attrs:{viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid slice"}},[a("defs",[a("radialGradient",{attrs:{id:"Gradient1",cx:"50%",cy:"50%",fx:"50%",fy:"50%",r:".5"}},[a("animate",{attrs:{attributeName:"fx",dur:"34s",values:"0%;10%;0%",repeatCount:"indefinite"}}),a("stop",{attrs:{offset:"0%","stop-color":"rgba(255, 0, 255, 1)"}}),a("stop",{attrs:{offset:"100%","stop-color":"rgba(255, 0, 255, 0)"}})],1),a("radialGradient",{attrs:{id:"Gradient2",cx:"50%",cy:"50%",fx:"10%",fy:"50%",r:".5"}},[a("animate",{attrs:{attributeName:"fx",dur:"23.5s",values:"0%;50%;0%",repeatCount:"indefinite"}}),a("stop",{attrs:{offset:"0%","stop-color":"rgba(255, 255, 0, 1)"}}),a("stop",{attrs:{offset:"100%","stop-color":"rgba(255, 255, 0, 0)"}})],1),a("radialGradient",{attrs:{id:"Gradient3",cx:"50%",cy:"50%",fx:"50%",fy:"50%",r:".5"}},[a("animate",{attrs:{attributeName:"fx",dur:"23.5s",values:"0%;10%;0%",repeatCount:"indefinite"}}),a("stop",{attrs:{offset:"0%","stop-color":"rgba(0, 255, 255, 1)"}}),a("stop",{attrs:{offset:"100%","stop-color":"rgba(0, 255, 255, 0)"}})],1)],1),a("rect",{attrs:{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#Gradient1)"}},[a("animate",{attrs:{attributeName:"x",dur:"20s",values:"0%;25%;0%",repeatCount:"indefinite"}}),a("animate",{attrs:{attributeName:"y",dur:"21s",values:"0%;25%;0%",repeatCount:"indefinite"}}),a("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"0 50 50",to:"360 50 50",dur:"17s",repeatCount:"indefinite"}})],1),a("rect",{attrs:{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#Gradient2)"}},[a("animate",{attrs:{attributeName:"x",dur:"23s",values:"0%;-25%;0%",repeatCount:"indefinite"}}),a("animate",{attrs:{attributeName:"y",dur:"24s",values:"0%;-25%;0%",repeatCount:"indefinite"}}),a("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"0 50 50",to:"360 50 50",dur:"18s",repeatCount:"indefinite"}})],1),a("rect",{attrs:{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#Gradient3)"}},[a("animate",{attrs:{attributeName:"x",dur:"25s",values:"0%;-25%;0%",repeatCount:"indefinite"}}),a("animate",{attrs:{attributeName:"y",dur:"26s",values:"0%;25%;0%",repeatCount:"indefinite"}}),a("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"360 50 50",to:"0 50 50",dur:"19s",repeatCount:"indefinite"}})],1)]),a("div",{staticClass:"login-Container"},[a("el-form",{attrs:{"label-width":"80px"}},[a("h2",[t._v("设备管理系统——注册")]),a("el-input",{attrs:{type:"text",placeholder:"用户名"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("el-input",{attrs:{type:"password",placeholder:"密码"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.register()}}},[t._v("注册")]),a("el-button",{on:{click:function(e){return t.submit()}}},[t._v("登录")])],1)],1)])},ye=[],De={name:"Register",data:function(){return{name:"",password:""}},methods:{submit:function(){this.$router.replace({path:"/"})},register:function(){var t=this;le("/server/reg",{username:this.name,password:this.password}).then((function(e){console.log(e),200===e.data.status?(t.$store.commit("userStore/login",{username:t.name,admin:t.admin}),t.$alert("注册成功",{callback:function(){t.$router.replace({path:"/"})}})):500===e.data.status&&(t.$alert(e.data.msg),t.password="",t.username="")})).catch((function(){t.$alert("注册失败")}))}}},$e=De,ke=(a("2ecf"),Object(Kt["a"])($e,xe,ye,!1,null,"283845a3",null)),Se=ke.exports,_e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"tableTitle"},[t._v(" 购买记录   "),a("el-button",{attrs:{round:"",plain:"",type:"primary"},on:{click:function(e){return t.addRecord()}}},[t._v("+ 新增")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"table",staticStyle:{width:"100%"},attrs:{border:"","row-class-name":t.tableRowDeepColor,data:t.recordList}},[a("el-table-column",{attrs:{prop:"pid",label:"编号",width:t.tableWidth/8}}),a("el-table-column",{attrs:{prop:"dname",label:"设备名",width:t.tableWidth/8}}),a("el-table-column",{attrs:{prop:"duid",label:"序列号",width:t.tableWidth/8}}),a("el-table-column",{attrs:{prop:"buyer",label:"购买人",width:t.tableWidth/8}}),a("el-table-column",{attrs:{prop:"amount",label:"购买数量",width:t.tableWidth/8}}),a("el-table-column",{attrs:{prop:"price",label:"总价格",width:t.tableWidth/8}}),a("el-table-column",{attrs:{prop:"pdate",label:"购买日期",width:t.tableWidth/8}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:t.tableWidth/8},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.editRow(e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.deleteRow(e.row)}}},[t._v("删除")])]}}])})],1),a("el-dialog",{attrs:{title:t.isAdd?"添加购买信息":"修改购买信息",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.formData}},[a("el-form-item",{attrs:{label:"设备名","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"on"},model:{value:t.formData.dname,callback:function(e){t.$set(t.formData,"dname",e)},expression:"formData.dname"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!t.isAdd,expression:"!isAdd"}],attrs:{label:"序列号","label-width":t.formLabelWidth}},[a("el-input",{attrs:{disabled:""},model:{value:t.formData.duid,callback:function(e){t.$set(t.formData,"duid",e)},expression:"formData.duid"}})],1),a("el-form-item",{attrs:{label:"购买人","label-width":t.formLabelWidth}},[a("el-input",{attrs:{disabled:""},model:{value:t.formData.buyer,callback:function(e){t.$set(t.formData,"buyer",e)},expression:"formData.buyer"}})],1),a("el-form-item",{attrs:{label:"购买数量","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.formData.amount,callback:function(e){t.$set(t.formData,"amount",e)},expression:"formData.amount"}})],1),a("el-form-item",{attrs:{label:"总价格","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.formData.price,callback:function(e){t.$set(t.formData,"price",e)},expression:"formData.price"}})],1),a("el-form-item",{attrs:{label:"购买日期","label-width":t.formLabelWidth}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:t.formData.pdate,callback:function(e){t.$set(t.formData,"pdate",e)},expression:"formData.pdate"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.isAdd?t.addData():t.updateData()}}},[t._v("确 定")])],1)],1)],1)},Le=[],Ce={name:"Purchase",data:function(){return{recordList:[],loading:!0,dialogFormVisible:!1,formLabelWidth:"120px",formData:{},tableWidth:1630,isAdd:!1}},computed:{uid:function(){return window.sessionStorage.getItem("userid")},buyer:function(){return window.sessionStorage.getItem("username")}},mounted:function(){var t=this;this.initData(),this.$nextTick((function(){t.tableWidth=t.$refs.table.$el.offsetWidth})),window.onresize=function(){t.tableWidth=t.$refs.table.$el.offsetWidth}},methods:{tableRowDeepColor:function(t){var e=t.rowIndex;return e%2===1?"deep-row":""},initData:function(){var t=this;this.recordList=[],oe("/server/purchase/getItems").then((function(e){for(var a in t.loading=!1,e.data.obj){var i=e.data.obj[a];t.recordList.unshift({pid:i.pid,dname:i.dname,duid:i.duid,buyer:i.buyer,amount:i.amount,price:i.price,pdate:i.pdate})}})).catch((function(){t.loading=!0,t.$alert("数据加载失败")}))},editRow:function(t){this.dialogFormVisible=!0,this.formData=t,this.isAdd=!1},deleteRow:function(t){var e=this;this.$confirm("此操作将一同删除设备，确认删除吗","提示",{type:"warning"}).then((function(){le("/server/purchase/delete",{id:t.pid}).then((function(t){200===t.data.status&&e.$alert("删除成功","",{callback:function(){e.initData()}})})).catch((function(){e.$alert("删除失败")}))}))},updateData:function(){var t=this;this.dialogFormVisible=!1,this.formData.uid=this.uid,console.log(this.formData),oe("/server/purchase/update",this.formData).then((function(e){200===e.data.status?(t.$alert("数据更新成功"),t.initData()):500===e.data.status&&t.$alert("数据更新错误")})).catch((function(){t.$alert("数据更新失败")}))},addRecord:function(){this.dialogFormVisible=!0,this.formData={dname:"",duid:"",buyer:this.buyer,amount:"",price:"",pdate:"",uid:this.uid},this.isAdd=!0},addData:function(){var t=this;this.dialogFormVisible=!1,this.isAdd=!1;for(var e="",a=0;a<this.formData.amount;a++){var i=Object(de["a"])(8).toUpperCase();e=e+i+","}e=e.substring(0,e.length-1),this.formData.duid=e,oe("/server/purchase/add",this.formData).then((function(e){200===e.data.status?(t.$alert("数据添加成功"),t.initData()):500===e.data.status&&t.$alert("数据加载错误")})).catch((function(){t.$alert("数据加载失败，请检查网络连接")}))}}},We=Ce,Re=(a("a66e"),Object(Kt["a"])(We,_e,Le,!1,null,null,null)),Ne=Re.exports,Ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"tableTitle"},[t._v(" 转借记录   "),a("el-button",{attrs:{round:"",plain:"",type:"primary"},on:{click:function(e){return t.addRecord()}}},[t._v("+ 新增")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"table",staticStyle:{width:"100%"},attrs:{border:"","row-class-name":t.tableRowDeepColor,data:t.recordList}},[a("el-table-column",{attrs:{prop:"lid",label:"记录编号",width:t.tableWidth/7}}),a("el-table-column",{attrs:{prop:"dname",label:"设备名",width:t.tableWidth/7}}),a("el-table-column",{attrs:{prop:"duid",label:"序列号",width:t.tableWidth/7}}),a("el-table-column",{attrs:{prop:"user",label:"经办人",width:t.tableWidth/7}}),a("el-table-column",{attrs:{prop:"leaseDate",label:"转借日期",width:t.tableWidth/7}}),a("el-table-column",{attrs:{prop:"backDate",label:"购买日期",width:t.tableWidth/7}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:t.tableWidth/7},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.editRow(e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.deleteRow(e.row)}}},[t._v("删除")])]}}])})],1),a("el-dialog",{attrs:{title:t.isAdd?"添加转借信息":"修改转借信息",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.formData}},[a("el-form-item",{attrs:{label:"设备名","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formData.dname,callback:function(e){t.$set(t.formData,"dname",e)},expression:"formData.dname"}},t._l(t.$store.state.deviceStore.deviceList,(function(t){return a("el-option",{directives:[{name:"show",rawName:"v-show",value:"运行中"===t.dstatus,expression:"r.dstatus === '运行中'"}],key:t.did,attrs:{label:t.dname,value:t.dname}})})),1)],1),a("el-form-item",{attrs:{label:"序列号","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formData.duid,callback:function(e){t.$set(t.formData,"duid",e)},expression:"formData.duid"}},t._l(t.$store.state.deviceStore.deviceList,(function(e){return a("el-option",{directives:[{name:"show",rawName:"v-show",value:e.dname===t.formData.dname&&"运行中"===e.dstatus,expression:"r.dname === formData.dname && r.dstatus === '运行中'"}],key:e.did,attrs:{label:e.duid,value:e.duid}})})),1)],1),a("el-form-item",{attrs:{label:"经办人","label-width":t.formLabelWidth}},[a("el-input",{attrs:{disabled:""},model:{value:t.formData.user,callback:function(e){t.$set(t.formData,"user",e)},expression:"formData.user"}})],1),a("el-form-item",{attrs:{label:"转借日期","label-width":t.formLabelWidth}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:t.formData.leaseDate,callback:function(e){t.$set(t.formData,"leaseDate",e)},expression:"formData.leaseDate"}})],1),a("el-form-item",{attrs:{label:"归还日期","label-width":t.formLabelWidth}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:t.formData.backDate,callback:function(e){t.$set(t.formData,"backDate",e)},expression:"formData.backDate"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.isAdd?t.addData():t.updateData()}}},[t._v("确 定")])],1)],1)],1)},je=[],Ie={name:"Lease",data:function(){return{recordList:[],loading:!0,dialogFormVisible:!1,formLabelWidth:"120px",formData:{},tableWidth:1630,isAdd:!1}},computed:{uid:function(){return window.sessionStorage.getItem("userid")},user:function(){return window.sessionStorage.getItem("username")}},mounted:function(){var t=this;this.initData(),this.$nextTick((function(){t.tableWidth=t.$refs.table.$el.offsetWidth})),window.onresize=function(){t.tableWidth=t.$refs.table.$el.offsetWidth}},methods:{tableRowDeepColor:function(t){var e=t.rowIndex;return e%2===1?"deep-row":""},initData:function(){var t=this;this.recordList=[],oe("/server/lease/getItems").then((function(e){for(var a in t.loading=!1,e.data.obj){var i=e.data.obj[a];t.recordList.unshift({lid:i.lid,did:i.did,uid:i.uid,dname:i.dname,duid:i.duid,user:i.user,leaseDate:i.leaseDate,backDate:i.backDate})}})).catch((function(){t.loading=!0,t.$alert("数据加载失败")}))},editRow:function(t){this.dialogFormVisible=!0,this.formData=t,this.isAdd=!1},deleteRow:function(t){var e=this;this.$confirm("此操作将删除该转借记录，确认删除吗","提示",{type:"warning"}).then((function(){le("/server/lease/delete",{id:t.lid}).then((function(t){200===t.data.status&&e.$alert("删除成功","",{callback:function(){e.initData()}})})).catch((function(t){console.log(t),e.$alert("删除失败")}))}))},updateData:function(){var t=this;this.dialogFormVisible=!1,oe("/server/lease/update",this.formData).then((function(e){200===e.data.status?(t.$alert("数据更新成功"),t.initData()):500===e.data.status&&t.$alert("数据更新错误")})).catch((function(){t.$alert("数据更新失败")}))},addRecord:function(){this.formData={},this.dialogFormVisible=!0,this.formData={uid:this.uid,dname:"",duid:"",user:this.user,leaseDate:"",backDate:""},this.isAdd=!0},addData:function(){for(var t=this,e=0;e<this.$store.state.deviceStore.deviceList.length;e++)this.$store.state.deviceStore.deviceList[e].duid===this.formData.duid&&(this.formData.did=this.$store.state.deviceStore.deviceList[e].did);oe("/server/lease/add",this.formData).then((function(e){200===e.data.status?(t.$alert("添加记录成功"),t.dialogFormVisible=!1,t.initData()):500===e.data.status&&t.$alert("数据加载错误")})).catch((function(){t.$alert("数据加载失败")}))}}},Fe=Ie,Pe=(a("bbc2"),Object(Kt["a"])(Fe,Ve,je,!1,null,null,null)),Ae=Pe.exports,Me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"tableTitle"},[t._v(" 维修记录   "),a("el-button",{attrs:{round:"",plain:"",type:"primary"},on:{click:function(e){return t.addRecord()}}},[t._v("+ 新增")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"table",staticStyle:{width:"100%"},attrs:{border:"","row-class-name":t.tableRowDeepColor,data:t.recordList}},[a("el-table-column",{attrs:{prop:"mid",label:"记录编号",width:t.tableWidth/7}}),a("el-table-column",{attrs:{prop:"dname",label:"设备名",width:t.tableWidth/7}}),a("el-table-column",{attrs:{prop:"duid",label:"序列号",width:t.tableWidth/7}}),a("el-table-column",{attrs:{prop:"user",label:"经办人",width:t.tableWidth/7}}),a("el-table-column",{attrs:{prop:"price",label:"维修价格",width:t.tableWidth/7}}),a("el-table-column",{attrs:{prop:"mDate",label:"维修时间",width:t.tableWidth/7}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:t.tableWidth/7},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.editRow(e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.deleteRow(e.row)}}},[t._v("删除")])]}}])})],1),a("el-dialog",{attrs:{title:t.isAdd?"添加维修信息":"修改维修信息",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.formData}},[a("el-form-item",{attrs:{label:"设备名","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formData.dname,callback:function(e){t.$set(t.formData,"dname",e)},expression:"formData.dname"}},t._l(t.$store.state.deviceStore.deviceList,(function(t){return a("el-option",{directives:[{name:"show",rawName:"v-show",value:"运行中"===t.dstatus,expression:"r.dstatus === '运行中'"}],key:t.did,attrs:{label:t.dname,value:t.dname}})})),1)],1),a("el-form-item",{attrs:{label:"序列号","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formData.duid,callback:function(e){t.$set(t.formData,"duid",e)},expression:"formData.duid"}},t._l(t.$store.state.deviceStore.deviceList,(function(e){return a("el-option",{directives:[{name:"show",rawName:"v-show",value:e.dname===t.formData.dname&&"运行中"===e.dstatus,expression:"r.dname === formData.dname && r.dstatus === '运行中'"}],key:e.did,attrs:{label:e.duid,value:e.duid}})})),1)],1),a("el-form-item",{attrs:{label:"经办人","label-width":t.formLabelWidth}},[a("el-input",{attrs:{disabled:""},model:{value:t.formData.user,callback:function(e){t.$set(t.formData,"user",e)},expression:"formData.user"}})],1),a("el-form-item",{attrs:{label:"维修价格","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.formData.price,callback:function(e){t.$set(t.formData,"price",e)},expression:"formData.price"}})],1),a("el-form-item",{attrs:{label:"维修日期","label-width":t.formLabelWidth}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:t.formData.mDate,callback:function(e){t.$set(t.formData,"mDate",e)},expression:"formData.mDate"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.isAdd?t.addData():t.updateData()}}},[t._v("确 定")])],1)],1)],1)},Te=[],Oe={name:"Maintain",data:function(){return{recordList:[],loading:!0,dialogFormVisible:!1,formLabelWidth:"120px",formData:{},tableWidth:1630,isAdd:!1}},computed:{uid:function(){return window.sessionStorage.getItem("userid")},user:function(){return window.sessionStorage.getItem("username")}},mounted:function(){var t=this;this.initData(),this.$nextTick((function(){t.tableWidth=t.$refs.table.$el.offsetWidth})),window.onresize=function(){t.tableWidth=t.$refs.table.$el.offsetWidth}},methods:{tableRowDeepColor:function(t){var e=t.rowIndex;return e%2===1?"deep-row":""},initData:function(){var t=this;this.recordList=[],oe("/server/maintain/getItems").then((function(e){for(var a in t.loading=!1,e.data.obj){var i=e.data.obj[a];t.recordList.unshift({mid:i.mid,did:i.did,uid:i.uid,duid:i.duid,dname:i.dname,price:i.price,user:i.user,mDate:i.mDate})}})).catch((function(){t.loading=!0,t.$alert("数据加载失败")}))},editRow:function(t){this.isAdd=!1,this.dialogFormVisible=!0,this.formData=t},deleteRow:function(t){var e=this;this.$confirm("此操作将删除该维修记录，确认删除吗","提示",{type:"warning"}).then((function(){le("/server/maintain/delete",{id:t.mid}).then((function(t){200===t.data.status?(e.$alert("数据删除成功"),e.initData()):500===t.data.status&&e.$alert(t.data.msg)})).catch((function(){e.$alert("数据更新失败")}))}))},updateData:function(){var t=this;this.dialogFormVisible=!1,oe("/server/maintain/update",this.formData).then((function(e){200===e.data.status?(t.$alert("数据更新成功"),t.initData()):500===e.data.status&&t.$alert("数据更新错误")})).catch((function(){t.$alert("数据更新失败")}))},addRecord:function(){this.formData={},this.dialogFormVisible=!0,this.formData={did:"",duid:"",dname:"",user:this.user,price:"",mDate:"",uid:this.uid},this.isAdd=!0},addData:function(){for(var t=this,e=0;e<this.$store.state.deviceStore.deviceList.length;e++)this.$store.state.deviceStore.deviceList[e].duid===this.formData.duid&&(this.formData.did=this.$store.state.deviceStore.deviceList[e].did);this.dialogFormVisible=!1,console.log(this.formData),oe("/server/maintain/add",this.formData).then((function(e){200===e.data.status?(t.$alert("添加成功"),t.initData()):500===e.data.status&&t.$alert("数据加载错误")})).catch((function(){t.$alert("数据加载失败")}))}}},Ge=Oe,ze=(a("1e46"),Object(Kt["a"])(Ge,Me,Te,!1,null,null,null)),Ee=ze.exports,Ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"tableTitle"},[t._v(" 库存一览 ")]),t._l(t.recordList,(function(t){return a("Card",{key:t.did,attrs:{data:t}})})),a("br"),a("div",{staticStyle:{float:"left",height:"80px",width:"1440px"}})],2)},He=[],Be=(a("4e82"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-card",{staticClass:"box-card"},[i("el-skeleton",{attrs:{loading:t.loading,animated:""}},[i("template",{slot:"template"},[i("el-row",[i("el-col",{attrs:{span:10}},[i("el-skeleton-item",{staticStyle:{width:"160px",height:"160px",margin:"0px"},attrs:{variant:"image"}})],1),i("el-col",{attrs:{span:14}},[i("div",{staticStyle:{padding:"0 14px",margin:"16px 0 16px 10px"}},[i("div",{staticClass:"my-skeleton-item"},[i("el-skeleton-item",{staticStyle:{"margin-right":"16px",width:"40%"},attrs:{variant:"h1"}}),i("el-skeleton-item",{attrs:{variant:"h1"}})],1)]),i("div",{staticStyle:{padding:"0 14px",margin:"32px 0 32px 10px"}},[i("div",{staticClass:"my-skeleton-item"},[i("el-skeleton-item",{staticStyle:{"margin-right":"16px",width:"40%"},attrs:{variant:"h1"}}),i("el-skeleton-item",{attrs:{variant:"h1"}})],1)]),i("div",{staticStyle:{padding:"0 14px",margin:"16px 0 16px 10px"}},[i("div",{staticClass:"my-skeleton-item"},[i("el-skeleton-item",{staticStyle:{"margin-right":"16px",width:"40%"},attrs:{variant:"h1"}}),i("el-skeleton-item",{attrs:{variant:"h1"}})],1)])])],1)],1),[i("el-row",[i("el-col",{attrs:{span:10}},[i("img",{staticClass:"image",attrs:{src:a("113c")}})]),i("el-col",{attrs:{span:14}},[i("div",{staticStyle:{padding:"0 14px",margin:"16px 0 16px 10px"}},[i("div",{staticClass:"my-skeleton-item"},[i("h1",{staticStyle:{"margin-right":"16px",width:"50%"}},[t._v("设备名称")]),i("span",[t._v(t._s(t.data.dname))])]),i("div",{staticClass:"my-skeleton-item"},[i("h1",{staticStyle:{"margin-right":"16px",width:"50%"}},[t._v("设备序列号")]),i("span",[t._v(t._s(t.data.duid))])]),i("div",{staticClass:"my-skeleton-item"},[i("h1",{staticStyle:{"margin-right":"16px",width:"50%"}},[t._v("设备状态")]),i("el-tag",{attrs:{type:t.tagType}},[t._v(" "+t._s(t.data.dstatus))])],1)])])],1)]],2)],1)}),Je=[],Ye={name:"Card",props:["data"],computed:{tagType:function(){return"维修中"===this.data.dstatus?"danger":"转借中"===this.data.dstatus?"warning":"已报废"===this.data.dstatus?"info":"success"},loading:function(){return this.$store.state.deviceStore.loading}}},qe=Ye,Ke=(a("0ab0"),Object(Kt["a"])(qe,Be,Je,!1,null,null,null)),Qe=Ke.exports,Xe={name:"Purchase",data:function(){return{recordList:["1","2","3","4","5","6","7","8","9","10","11","12"]}},mounted:function(){var t=this;this.$nextTick((function(){oe("/server/device/getItems").then((function(e){for(var a in t.recordList=[],t.$store.commit("deviceStore/changeStatus",!1),t.$store.commit("deviceStore/clearList"),e.data.obj){var i=e.data.obj[a];t.$store.commit("deviceStore/addDevice",{did:i.did,dname:i.dname,dstatus:i.dstatus,duid:i.duid})}t.recordList=t.$store.state.deviceStore.deviceList,t.recordList.sort((function(t,e){return t.dstatus>e.dstatus?-1:1}))})).catch((function(){t.$store.commit("deviceStore/changeStatus",!0),t.$alert("获取数据失败，请检查网络连接")}))}))},components:{Card:Qe},beforeDestroy:function(){this.$store.commit("deviceStore/changeStatus",!0)}},Ze=Xe,ta=(a("2a24"),Object(Kt["a"])(Ze,Ue,He,!1,null,null,null)),ea=ta.exports,aa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"tableTitle"},[t._v(" 报废记录   "),a("el-button",{attrs:{round:"",plain:"",type:"primary"},on:{click:function(e){return t.addRecord()}}},[t._v("+ 新增")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"table",staticStyle:{width:"100%"},attrs:{border:"","row-class-name":t.tableRowDeepColor,data:t.recordList}},[a("el-table-column",{attrs:{prop:"sid",label:"记录编号",width:t.tableWidth/6}}),a("el-table-column",{attrs:{prop:"dname",label:"设备名",width:t.tableWidth/6}}),a("el-table-column",{attrs:{prop:"duid",label:"序列号",width:t.tableWidth/6}}),a("el-table-column",{attrs:{prop:"user",label:"经办人",width:t.tableWidth/6}}),a("el-table-column",{attrs:{prop:"sDate",label:"报废时间",width:t.tableWidth/6}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:t.tableWidth/6},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.editRow(e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.deleteRow(e.row)}}},[t._v("删除")])]}}])})],1),a("el-dialog",{attrs:{title:t.isAdd?"添加报废记录":"修改报废记录",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.formData}},[a("el-form-item",{attrs:{label:"设备名","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formData.dname,callback:function(e){t.$set(t.formData,"dname",e)},expression:"formData.dname"}},t._l(t.$store.state.deviceStore.deviceList,(function(t){return a("el-option",{directives:[{name:"show",rawName:"v-show",value:"运行中"===t.dstatus,expression:"r.dstatus === '运行中'"}],key:t.did,attrs:{label:t.dname,value:t.dname}})})),1)],1),a("el-form-item",{attrs:{label:"序列号","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formData.duid,callback:function(e){t.$set(t.formData,"duid",e)},expression:"formData.duid"}},t._l(t.$store.state.deviceStore.deviceList,(function(e){return a("el-option",{directives:[{name:"show",rawName:"v-show",value:e.dname===t.formData.dname&&"运行中"===e.dstatus,expression:"r.dname === formData.dname && r.dstatus === '运行中'"}],key:e.did,attrs:{label:e.duid,value:e.duid}})})),1)],1),a("el-form-item",{attrs:{label:"经办人","label-width":t.formLabelWidth}},[a("el-input",{attrs:{disabled:""},model:{value:t.formData.user,callback:function(e){t.$set(t.formData,"user",e)},expression:"formData.user"}})],1),a("el-form-item",{attrs:{label:"报废日期","label-width":t.formLabelWidth}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:t.formData.sDate,callback:function(e){t.$set(t.formData,"sDate",e)},expression:"formData.sDate"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.isAdd?t.addData():t.updateData()}}},[t._v("确 定")])],1)],1)],1)},ia=[],ra={name:"Scrap",data:function(){return{recordList:[],loading:!0,dialogFormVisible:!1,formLabelWidth:"120px",formData:{},tableWidth:1630,isAdd:!1}},computed:{uid:function(){return window.sessionStorage.getItem("userid")},user:function(){return window.sessionStorage.getItem("username")}},mounted:function(){var t=this;this.initData(),this.$nextTick((function(){t.tableWidth=t.$refs.table.$el.offsetWidth})),window.onresize=function(){t.tableWidth=t.$refs.table.$el.offsetWidth}},methods:{tableRowDeepColor:function(t){var e=t.rowIndex;return e%2===1?"deep-row":""},initData:function(){var t=this;this.recordList=[],oe("/server/scrap/getItems").then((function(e){for(var a in t.loading=!1,e.data.obj){var i=e.data.obj[a];t.recordList.unshift({sid:i.sid,did:i.did,uid:i.uid,duid:i.duid,dname:i.dname,user:i.user,sDate:i.sDate})}})).catch((function(){t.loading=!0,t.$alert("数据加载失败")}))},editRow:function(t){this.isAdd=!1,this.dialogFormVisible=!0,this.formData=t},deleteRow:function(t){var e=this;console.log(t),le("/server/scrap/delete",{id:t.sid}).then((function(t){200===t.data.status?(e.$alert("数据删除成功"),e.initData()):500===t.data.status&&e.$alert(t.data.msg)})).catch((function(t){console.log(t),e.$alert("数据更新失败")})),this.initData()},updateData:function(){var t=this;this.dialogFormVisible=!1,console.log("newData",this.formData),oe("/server/scrap/update",this.formData).then((function(e){200===e.data.status?(t.$alert("数据更新成功"),t.initData()):500===e.data.status&&t.$alert("数据更新错误")})).catch((function(){t.$alert("数据更新失败")}))},addRecord:function(){this.formData={},this.dialogFormVisible=!0,this.formData={did:"",duid:"",user:this.user,sDate:"",uid:this.uid},this.isAdd=!0},addData:function(){for(var t=this,e=0;e<this.$store.state.deviceStore.deviceList.length;e++)this.$store.state.deviceStore.deviceList[e].duid===this.formData.duid&&(this.formData.did=this.$store.state.deviceStore.deviceList[e].did);this.dialogFormVisible=!1,console.log(this.formData),oe("/server/scrap/add",this.formData).then((function(e){200===e.data.status?(t.$alert("添加成功"),t.initData()):500===e.data.status&&t.$alert("数据加载错误")})).catch((function(){t.$alert("数据加载失败")}))}}},na=ra,sa=(a("310a"),Object(Kt["a"])(na,aa,ia,!1,null,null,null)),oa=sa.exports,la=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"tableTitle"},[t._v(" 用户权限管理 ")]),t._l(t.recordList,(function(t){return a("Card",{key:t.uid,attrs:{data:t}})})),a("br"),a("div",{staticStyle:{float:"left",height:"80px",width:"1440px"}})],2)},da=[],ua=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-card",{staticClass:"box-card"},[i("el-skeleton",{attrs:{loading:t.loading,animated:""}},[i("template",{slot:"template"},[i("el-row",[i("el-col",{attrs:{span:10}},[i("el-skeleton-item",{staticStyle:{width:"160px",height:"160px",margin:"0px"},attrs:{variant:"image"}})],1),i("el-col",{attrs:{span:14}},[i("div",{staticStyle:{padding:"0 14px",margin:"16px 0 16px 10px"}},[i("div",{staticClass:"my-skeleton-item"},[i("el-skeleton-item",{staticStyle:{"margin-right":"16px",width:"40%"},attrs:{variant:"h1"}}),i("el-skeleton-item",{attrs:{variant:"h1"}})],1)]),i("div",{staticStyle:{padding:"0 14px",margin:"32px 0 32px 10px"}},[i("div",{staticClass:"my-skeleton-item"},[i("el-skeleton-item",{staticStyle:{"margin-right":"16px",width:"40%"},attrs:{variant:"h1"}}),i("el-skeleton-item",{attrs:{variant:"h1"}})],1)]),i("div",{staticStyle:{padding:"0 14px",margin:"16px 0 16px 10px"}},[i("div",{staticClass:"my-skeleton-item"},[i("el-skeleton-item",{staticStyle:{"margin-right":"16px",width:"40%"},attrs:{variant:"h1"}}),i("el-skeleton-item",{attrs:{variant:"h1"}})],1)])])],1)],1),[i("el-row",[i("el-col",{attrs:{span:10}},[i("img",{staticClass:"image",attrs:{src:a("c121")}})]),i("el-col",{attrs:{span:14}},[i("div",{staticStyle:{padding:"0 14px",margin:"16px 0 16px 10px"}},[i("div",{staticClass:"my-skeleton-item"},[i("h1",{staticStyle:{"margin-right":"16px",width:"50%"}},[t._v("用户ID")]),i("span",[t._v(t._s(t.data.uid))])]),i("div",{staticClass:"my-skeleton-item"},[i("h1",{staticStyle:{"margin-right":"16px",width:"50%"}},[t._v("用户名")]),i("span",[t._v(t._s(t.data.username))])]),i("div",{staticClass:"my-skeleton-item"},[i("h1",{staticStyle:{"margin-right":"16px",width:"50%"}},[t._v("管理员权限")]),i("el-switch",{attrs:{disabled:!t.admin},on:{change:function(e){return t.changeAuth()}},model:{value:t.data.admin,callback:function(e){t.$set(t.data,"admin",e)},expression:"data.admin"}})],1)])])],1)]],2)],1)},ca=[],ma={name:"UserCard",props:["data"],computed:{loading:function(){return this.$store.state.deviceStore.loading},admin:function(){return"true"===window.sessionStorage.getItem("admin")}},methods:{changeAuth:function(){var t=this;this.$confirm("确认修改该用户权限吗","提示",{type:"warning"}).then((function(){oe("/server/update",t.data).then((function(e){200===e.data.status&&t.$alert("修改权限成功")})).catch((function(){t.$alert("修改权限失败")}))})).catch((function(){t.data.admin=!t.data.admin}))}}},fa=ma,pa=(a("c865"),Object(Kt["a"])(fa,ua,ca,!1,null,null,null)),ha=pa.exports,ba={name:"UserManage",data:function(){return{recordList:["1","2","3","4"]}},mounted:function(){var t=this;this.$nextTick((function(){oe("/server/getUsers").then((function(e){for(var a in t.recordList=[],t.$store.commit("deviceStore/changeStatus",!1),console.log("user",e.data),e.data){var i=e.data[a];t.recordList.push({uid:i.uid,username:i.username,admin:i.admin})}})).catch((function(){t.$store.commit("userStore/changeStatus",!0),t.$alert("获取数据失败，请检查网络连接")}))}))},components:{Card:ha},beforeDestroy:function(){this.$store.commit("userStore/changeStatus",!0)}},va=ba,ga=(a("61b1"),Object(Kt["a"])(va,la,da,!1,null,null,null)),wa=ga.exports;Ht["default"].use(Zt["a"]);var xa=new Zt["a"]({routes:[{path:"/",name:"Login",component:fe,hidden:!0},{path:"/Home",name:"Home",component:we,children:[{path:"/Purchase",name:"Purchase",component:Ne},{path:"/Lease",name:"Lease",component:Ae},{path:"/Maintain",name:"Maintain",component:Ee},{path:"/Inventory",name:"Inventory",component:ea},{path:"/Scrap",name:"Scrap",component:oa},{path:"/UserManage",name:"UserManage",component:wa}]},{path:"/Register",name:"Register",component:Se}]});xa.beforeEach((function(t,e,a){if("Login"!==t.name&&"Register"!==t.name){var i=window.sessionStorage.getItem("username");""!==i&&i?a():r.a.confirm("请先登录！",{callback:function(){a({path:"/",query:{redirect:t.path}})}})}else a()}));var ya=xa,Da=a("2f62"),$a={namespaced:!0,actions:{},mutations:{changeStatus:function(t,e){t.loading=e},addDevice:function(t,e){t.deviceList.unshift({did:e.did,dname:e.dname,dstatus:e.dstatus,duid:e.duid})},clearList:function(t){t.deviceList=[]}},state:{loading:!0,deviceList:[]}},ka=$a,Sa={namespaced:!0,actions:{},mutations:{login:function(t,e){t.username=e.username,t.userid=e.id,t.admin=e.admin,window.sessionStorage.setItem("username",e.username),window.sessionStorage.setItem("userid",e.id),window.sessionStorage.setItem("admin",e.admin)},logout:function(t){t.username="",t.admin=!1,window.sessionStorage.setItem("username",""),window.sessionStorage.setItem("userid",""),window.sessionStorage.setItem("admin",!1)},changeStatus:function(t,e){t.loading=e}},state:{username:"",userid:"",admin:!1,loading:!0}},_a=Sa;Ht["default"].use(Da["a"]);var La=new Da["a"].Store({modules:{userStore:_a,deviceStore:ka}});Ht["default"].use(Ut.a),Ht["default"].use(zt.a),Ht["default"].use(Ot.a),Ht["default"].use(Mt.a),Ht["default"].use(Pt.a),Ht["default"].use(It.a),Ht["default"].use(Vt.a),Ht["default"].use(Rt.a),Ht["default"].use(Ct.a),Ht["default"].use(_t.a),Ht["default"].use(kt.a),Ht["default"].use(Dt.a),Ht["default"].use(xt.a),Ht["default"].use(gt.a),Ht["default"].use(bt.a),Ht["default"].use(pt.a),Ht["default"].use(mt.a),Ht["default"].use(ut.a),Ht["default"].use(lt.a),Ht["default"].use(st.a),Ht["default"].use(rt.a),Ht["default"].use(at.a),Ht["default"].use(tt.a),Ht["default"].use(X.a),Ht["default"].use(K.a),Ht["default"].use(Y.a),Ht["default"].use(B.a),Ht["default"].use(U.a),Ht["default"].use(z.a),Ht["default"].use(O.a),Ht["default"].use(M.a),Ht["default"].use(P.a),Ht["default"].use(I.a),Ht["default"].use(V.a),Ht["default"].use(R.a),Ht["default"].use(C.a),Ht["default"].use(_.a),Ht["default"].use(k.a),Ht["default"].use(D.a),Ht["default"].use(x.a),Ht["default"].use(g.a),Ht["default"].use(b.a),Ht["default"].use(p.a),Ht["default"].use(m.a),Ht["default"].use(u.a),Ht["default"].use(l.a),Ht["default"].use(s.a),Ht["default"].prototype.$alert=r.a.alert,Ht["default"].prototype.$confirm=r.a.confirm,Ht["default"].prototype.$prompt=r.a.prompt,Ht["default"].prototype.$msgbox=r.a,Ht["default"].config.productionTip=!1,new Ht["default"]({render:function(t){return t(Xt)},router:ya,store:La}).$mount("#app")},"61b1":function(t,e,a){"use strict";a("20e1")},"69f9":function(t,e,a){},"85ec":function(t,e,a){},"86f9":function(t,e,a){},"88d7":function(t,e,a){},"8b71":function(t,e,a){"use strict";a("88d7")},a66e:function(t,e,a){"use strict";a("e428")},afda:function(t,e,a){"use strict";a("4ea2")},bbc2:function(t,e,a){"use strict";a("08ed")},c121:function(t,e,a){t.exports=a.p+"img/user.164e0ccd.png"},c432:function(t,e,a){},c865:function(t,e,a){"use strict";a("69f9")},e428:function(t,e,a){}});
//# sourceMappingURL=app.78c7c319.js.map